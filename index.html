<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¾·æ³•åŒåŸè®°ï¼šæ·±åº¦æ—…è¡ŒåŠ©æ‰‹</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans SC', sans-serif;
            background-color: #f1f5f9; /* Slate 100 */
            color: #334155;
            padding-bottom: 90px; /* Space for bottom nav */
        }
        .card {
            background: white;
            border-radius: 16px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.04);
            margin-bottom: 12px;
            overflow: hidden;
            transition: all 0.2s ease;
            border: 1px solid #e2e8f0;
        }
        .card-header {
            padding: 16px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .card-body {
            background-color: #f8fafc;
            padding: 0 16px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out, padding 0.3s ease;
            border-top: 1px solid transparent;
        }
        .card.expanded .card-body {
            padding: 16px;
            border-top-color: #e2e8f0;
            max-height: 1000px;
        }
        .card.expanded .arrow {
            transform: rotate(180deg);
        }
        .timeline-time {
            font-family: monospace;
            font-weight: 700;
            color: #64748b;
            width: 50px;
            flex-shrink: 0;
        }
        .nav-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(10px);
            border-top: 1px solid #e2e8f0;
            display: flex;
            justify-content: space-around;
            padding: 12px 0;
            z-index: 50;
            padding-bottom: max(12px, env(safe-area-inset-bottom));
        }
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            font-size: 10px;
            color: #94a3b8;
            font-weight: 500;
        }
        .nav-item.active {
            color: #2563eb;
        }
        .nav-icon {
            font-size: 20px;
            margin-bottom: 2px;
        }
        .badge {
            font-size: 10px;
            padding: 2px 6px;
            border-radius: 4px;
            margin-left: 6px;
            font-weight: bold;
        }
        .badge-student { background: #dbeafe; color: #1e40af; border: 1px solid #bfdbfe; }
        .badge-urgent { background: #fee2e2; color: #991b1b; border: 1px solid #fecaca; }
        .badge-rec { background: #ecfdf5; color: #047857; border-color: #a7f3d0; }
        
        .detail-block { margin-bottom: 12px; }
        .detail-label { font-size: 12px; font-weight: 700; color: #64748b; margin-bottom: 4px; display: block; }
        .detail-text { font-size: 14px; line-height: 1.6; color: #334155; }
        
        /* Day Tabs */
        .day-tabs {
            display: flex;
            overflow-x: auto;
            gap: 8px;
            padding: 12px 16px;
            background: white;
            position: sticky;
            top: 0;
            z-index: 40;
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
        }
        .day-tab {
            white-space: nowrap;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
            background: #f1f5f9;
            color: #64748b;
            border: 1px solid transparent;
        }
        .day-tab.active {
            background: #2563eb;
            color: white;
            box-shadow: 0 2px 4px rgba(37, 99, 235, 0.3);
        }
        .hide-scroll::-webkit-scrollbar { display: none; }

        /* Chart Container */
        .chart-container {
            position: relative;
            height: 250px;
            width: 100%;
        }
    </style>
</head>
<body>

    <!-- é¡¶éƒ¨ -->
    <div class="bg-white p-6 pb-4 border-b border-slate-100">
        <h1 class="text-2xl font-bold text-slate-800">ğŸ‡©ğŸ‡ªğŸ‡«ğŸ‡· æ·±åº¦æ—…è¡Œæ”»ç•¥</h1>
        <p class="text-sm text-slate-500 mt-1">1æœˆ7æ—¥ - 1æœˆ12æ—¥ | æŸæ— Â· å¾·ç´¯æ–¯é¡¿ Â· å·´é»</p>
    </div>

    <!-- é¡µé¢å†…å®¹ -->
    <main id="main-container">
        <!-- JS åŠ¨æ€æ¸²æŸ“ -->
    </main>

    <!-- åº•éƒ¨å¯¼èˆª -->
    <nav class="nav-bar">
        <button onclick="renderView('overview')" class="nav-item active" id="nav-overview">
            <span class="nav-icon">ğŸ“Š</span>
            <span>æ¦‚è§ˆ</span>
        </button>
        <button onclick="renderView('itinerary')" class="nav-item" id="nav-itinerary">
            <span class="nav-icon">ğŸ—“ï¸</span>
            <span>è¡Œç¨‹</span>
        </button>
        <button onclick="renderView('reservations')" class="nav-item" id="nav-reservations">
            <span class="nav-icon">ğŸŸï¸</span>
            <span>é¢„çº¦</span>
        </button>
        <button onclick="renderView('tips')" class="nav-item" id="nav-tips">
            <span class="nav-icon">ğŸ’¡</span>
            <span>è´´å£«</span>
        </button>
    </nav>

    <script>
        // --- æ•°æ®æº (æ•´åˆäº†æ‰€æœ‰ç»†èŠ‚) ---
        const packingItems = [
            "æŠ¤ç…§ / BRP / é’±åŒ… (é‡è¦!)", 
            "å­¦ç”Ÿå¡ (ISIC)", 
            "å……ç”µå® / å……ç”µå™¨ / è½¬æ¢æ’å¤´", 
            "è¡£æœ / å†…è£¤ / è¢œå­", 
            "æ‰‹å¥— / å¸½å­ / å›´å·¾", 
            "é¡¹é“¾ / çš®ç­‹ / å·å‘æ£’", 
            "æŠ¤è‚¤å“ / åŒ–å¦†å“ / å¸å¦†", 
            "æ´—é¢å¥¶ / æŠ¤å‘ç´  / æŠ¤æ‰‹éœœ", 
            "æ„Ÿå†’è¯ / å«ç”Ÿå·¾ / æ¹¿å•çº¸", 
            "é›¨ä¼ / æ¶¦å”‡è†", 
            "ç‰™åˆ· / æ‹–é‹ / æµ´å·¾", 
            "App: Citymapper / Uber Eats"
        ];

        const tripData = {
            days: [
                { id: 'd1', label: '1.7 (å‘¨ä¸‰)', title: 'æŠµè¾¾æŸæ—' },
                { id: 'd2', label: '1.8 (å‘¨å››)', title: 'å¾·ç´¯æ–¯é¡¿' },
                { id: 'd3', label: '1.9 (å‘¨äº”)', title: 'æŸæ—/å·´é»' },
                { id: 'd4', label: '1.10 (å‘¨å…­)', title: 'å·´é»é“å¡”' },
                { id: 'd5', label: '1.11 (å‘¨æ—¥)', title: 'å¢æµ®å®«' },
                { id: 'd6', label: '1.12 (å‘¨ä¸€)', title: 'å·¦å²¸è¿”ç¨‹' }
            ],
            itinerary: {
                'd1': [
                    { 
                        time: '13:55', title: 'æŠµè¾¾æŸæ— (BER)', icon: 'âœˆï¸',
                        details: 'æœºåœºå¿«çº¿ FEX æˆ– RE7/RB14 ç›´è¾¾ Zoologischer Garten ç«™ï¼ˆçº¦30åˆ†é’Ÿï¼‰ã€‚',
                        tips: 'å‡ºæœºåœºè·Ÿç€ç»¿è‰² "S" æˆ–çº¢è‰² "DB" æ ‡å¿—èµ°ã€‚'
                    },
                    { 
                        time: '15:30', title: 'å…¥ä½ NH Berlin', icon: 'ğŸ¨',
                        details: 'Hotel NH Berlin KurfÃ¼rstendammã€‚ä½ç½®æä½³ï¼Œå°±åœ¨ Savignyplatz æ—è¾¹ï¼Œäº¤é€šæ–¹ä¾¿ã€‚',
                        tips: 'åŠç†å…¥ä½åç¨ä½œä¼‘æ¯ï¼Œå‡†å¤‡å‡ºé—¨é€›è¡—ã€‚'
                    },
                    { 
                        time: '16:00', title: 'Pop Mart & KaDeWe', icon: 'ğŸ›ï¸',
                        details: '1. **Pop Mart**: TauentzienstraÃŸe 13ï¼Œæ­¥è¡Œå¯è¾¾ï¼Œå»æŠ½å¾·å›½é™å®š Labubuã€‚<br>2. **KaDeWe**: æŸæ—æœ€è±ªåç™¾è´§ï¼Œé¡¶æ¥¼é£Ÿå“å±‚éå¸¸æ£’ã€‚',
                        tips: 'è¥ä¸šæ—¶é—´åˆ° 20:00ï¼ŒæŠ“ç´§æ—¶é—´ã€‚'
                    },
                    { 
                        time: '18:30', title: 'æ™šé¤: Savignyplatz', icon: 'ğŸ½ï¸',
                        details: 'æ¨è **Dickes Wirtshaus**ï¼šæ°›å›´çƒ­é—¹ï¼Œå¿…ç‚¹ç‚¸çŒªæ’ (Schnitzel)ã€‚<br>æˆ–è€… **Kuchi**ï¼šå¦‚æœæƒ³åƒäºšæ´²èåˆèœã€‚',
                        tips: 'ä¸ç”¨è·‘è¿œï¼Œå°±åœ¨é…’åº—é™„è¿‘ã€‚'
                    }
                ],
                'd2': [
                    { 
                        time: '08:00', title: 'ç«è½¦å»å¾·ç´¯æ–¯é¡¿', icon: 'ğŸš„', badge: 'å»ºè®®é¢„è®¢',
                        details: 'ä» Berlin Hbf å‡ºå‘ï¼Œä¹°åˆ° **Dresden Hbf (å—ç«™)** ä¸‹è½¦ã€‚<br>è½¦ç¨‹çº¦2å°æ—¶ã€‚',
                        tips: 'ä»å—ç«™ä¸‹è½¦æ˜¯ä¸ºäº†å¼€å¯â€œå—è¿›åŒ—å‡ºâ€çš„ä¸å›å¤´è·¯çº¿ã€‚'
                    },
                    { 
                        time: '10:30', title: 'ç»¿ç©¹çå®é¦† & ç‹å®«', icon: 'ğŸ’', badge: 'å­¦ç”Ÿä¼˜æƒ ',
                        details: '1. **å†å²ç»¿ç©¹ (åœ°ä¸‹ä¸€å±‚)**ï¼šå¿…çœ‹ï¼éœ€é¢„çº¦æ—¶æ®µã€‚æ— ç»ç’ƒå±•æŸœï¼Œéå¸¸éœ‡æ’¼ã€‚<br>2. **æ–°ç»¿ç©¹ (äºŒæ¥¼)**ï¼šçœ‹å®Œå†å²é¦†ç›´æ¥ä¸Šæ¥¼çœ‹ç»¿é’»ã€‚<br>3. **ç‹å®«è§‚æ™¯å°**ï¼šé—¨ç¥¨åŒ…å«ï¼Œçˆ¬ä¸Šå»ä¿¯ç°å…¨æ™¯ã€‚',
                        tips: 'è®°å¾—å¸¦å­¦ç”Ÿè¯ï¼ç§Ÿå…è´¹ä¸­æ–‡è®²è§£å™¨ã€‚'
                    },
                    { 
                        time: '13:30', title: 'å·§å…‹åŠ›å†°æ£ & èŒ¨æ¸©æ ¼å®«', icon: 'ğŸ¦',
                        details: 'åœ¨ç‹å®«é—¨å£ä¹° **Camondas** å·§å…‹åŠ›å†°æ£ (çº¦â‚¬4.5)ï¼Œå£æ„Ÿç»µå¯†ã€‚èŒ¨æ¸©æ ¼å®« (Zwinger) åœ¨å¤–éƒ¨å¹³å°æ‹ç…§å³å¯ã€‚',
                    },
                    { 
                        time: '15:00', title: 'åˆé¤: æ•™å ‚å‰åƒçŒªè‚˜', icon: 'ğŸ–',
                        details: 'é¤å…ï¼š**Augustiner an der Frauenkirche**ã€‚<br>å°±åœ¨åœ£æ¯æ•™å ‚é—¨å£ï¼Œæ¨èç‚¹åŠä¸ªçŒªè‚˜ (Schweinshaxe)ï¼Œçš®è„†è‚‰å«©ã€‚',
                        tips: 'è·¯è¿‡â€œç‹å­è¡Œåˆ—â€å£ç”»æ—¶ï¼Œè®°å¾—ä¹°å†°ç®±è´´ï¼Œé‚£é‡Œä¾¿å®œã€‚'
                    },
                    { 
                        time: '16:30', title: 'å¸ƒå•å°”å¹³å° & åŒ—ç«™è¿”ç¨‹', icon: 'ğŸš¶',
                        details: '1. åœ¨â€œæ¬§æ´²é˜³å°â€å¸ƒå•å°”å¹³å°çœ‹æ˜“åŒ—æ²³æ—¥è½ã€‚<br>2. æ­¥è¡Œè¿‡ **AugustusbrÃ¼cke** æ¡¥ã€‚<br>3. ç©¿è¿‡æ–°åŸ (Neustadt) èµ°åˆ° **Dresden-Neustadt è½¦ç«™**ã€‚',
                        tips: 'ä¹°å›ç¨‹ç¥¨é€‰ Neustadt å‡ºå‘ï¼Œç›´æ¥å›æŸæ—ï¼Œä¸èµ°å›å¤´è·¯ã€‚'
                    }
                ],
                'd3': [
                    { 
                        time: '10:00', title: 'å“ˆå…‹åº­é™¢ & ç”»å»Š', icon: 'ğŸ“·', badge: 'å‡ºç‰‡',
                        details: '1. **Hackesche HÃ¶fe**: é€›é€›è¿·äººçš„è¿ç¯åº­é™¢ã€‚<br>2. **James Simon Gallery**: åšç‰©é¦†å²›ä¸Šçš„ç™½è‰²é•¿å»Šï¼Œæç®€é£å¤§ç‰‡æœºä½ã€‚',
                        tips: 'åšç‰©é¦†å²›å‘¨äº”å¼€æ”¾ï¼Œå­¦ç”Ÿç¥¨æœ‰ä¼˜æƒ ã€‚'
                    },
                    { 
                        time: '12:30', title: 'HARIBO & åˆé¤', icon: 'ğŸ§¸',
                        details: 'åˆé¤åœ¨ Mall of Berlin è§£å†³ã€‚æ—è¾¹å°±æ˜¯ HARIBO æ——èˆ°åº—ï¼Œä¹°æŸæ—ç†Šè½¯ç³–ã€‚åœ°ä¸‹æœ‰ dm è¶…å¸‚å¯ä»¥è¡¥è´§ã€‚',
                    },
                    { 
                        time: '14:30', title: 'å¥¥ä¼¯é²å§†æ¡¥', icon: 'ğŸŒ‰',
                        details: 'OberbaumbrÃ¼ckeï¼šçº¢ç –åŒå±‚æ¡¥ï¼Œç­‰å¾…é»„è‰² U1 åœ°é“ç©¿è¿‡çš„ç¬é—´ï¼Œæ˜¯æŸæ—æœ€ç»å…¸çš„é•œå¤´ã€‚',
                    },
                    { 
                        time: '20:20', title: 'é£å¾€å·´é» (å¥¥åˆ©)', icon: 'âœˆï¸', badge: 'å¿…çº¦',
                        details: 'èˆªç­æŠµè¾¾ **Orly (ORY)** æœºåœºã€‚<br>è¿™æ˜¯å¥½æ¶ˆæ¯ï¼ç¦»ä½ ä»¬ä½çš„15åŒºéå¸¸è¿‘ã€‚',
                        tips: 'é¢„ç•™2.5å°æ—¶å®‰æ£€ã€‚'
                    },
                    { 
                        time: '22:10', title: 'æ‰“è½¦ & å¤–å–', icon: 'ğŸš–',
                        details: '1. **äº¤é€š**ï¼šå¼ºçƒˆå»ºè®®æ‰“è½¦ (Taxi Parisien)ï¼Œå»å·¦å²¸/15åŒºæ˜¯**å›ºå®šè´¹ç‡ â‚¬36** (å¯èƒ½æœ‰è¡Œæè´¹)ã€‚<br>2. **å¤–å–**ï¼šåˆ°é…’åº—ç‚¹ Uber Eatsã€‚æ¨è **Napoli Gang** (Pink MammaåŒæ¬¾) æˆ– **PNY Burger**ã€‚',
                        tips: 'ä¸è¦ç†ä¼šèˆªç«™æ¥¼é‡Œæ‹‰å®¢çš„å¸æœºï¼Œå»æ’æ­£è§„å‡ºç§Ÿè½¦é˜Ÿã€‚'
                    }
                ],
                'd4': [
                    { 
                        time: '10:30', title: 'ç¡æ‡’è§‰ & å‡ºé—¨', icon: 'ğŸ›ï¸',
                        details: 'æ˜¨æ™šå¤ªæ™šï¼Œä»Šå¤©ç¡é¥±å†å‡ºå‘ã€‚11ç‚¹å¤šå‡ºé—¨ç›´æ¥å»åƒåˆé¤ã€‚',
                    },
                    { 
                        time: '11:30', title: 'åˆé¤: æ³•å¼å°é¦†', icon: 'ğŸ´',
                        details: 'æ¨è **CafÃ© Constant** æˆ– **Les Cocottes**ã€‚è¿™ä¸€å¸¦æœ‰å¾ˆå¤šç²¾è‡´çš„æ³•å¼å°é¦†ã€‚',
                    },
                    { 
                        time: '13:00', title: 'é“å¡”æ·±åº¦æ¸¸', icon: 'ğŸ—¼', badge: 'é’å¹´ç¥¨',
                        details: '1. **TrocadÃ©ro**: æ‹å…¨æ™¯ã€‚<br>2. **Avenue de CamoÃ«ns**: æ—è¾¹çš„æ­»èƒ¡åŒï¼Œæ‹éšç§˜å¤§ç‰‡ã€‚<br>3. **Bir-Hakeim**: ç›—æ¢¦ç©ºé—´æ¡¥ã€‚',
                        tips: 'æ¬§ç›Ÿå­¦ç”Ÿå…ç¥¨ï¼Œéæ¬§ç›Ÿ26å²ä»¥ä¸‹æœ‰ä¼˜æƒ  (Rate Jeunes)ã€‚'
                    },
                    { 
                        time: '15:30', title: 'é¦™è¡— & æ–°è€ä½›çˆ·', icon: 'ğŸ›ï¸',
                        details: 'é€›é¦™æ¦­ä¸½èˆå¤§è¡—ã€‚æ¨èå» **Galeries Lafayette Champs-Ã‰lysÃ©es**ï¼ˆæ–°åº—ï¼‰ï¼Œæœ‰å…‰å½±éš§é“ï¼Œéå¸¸æ½®ï¼Œæ¯”å¥¥æ–¯æ›¼æ€»åº—äººå°‘ã€‚',
                    },
                    { 
                        time: '18:00', title: 'å¡çº³æ²³æ¸¸èˆ¹', icon: 'â›´ï¸', badge: 'æ¨è',
                        details: 'å‚æ™š18:00æ˜¯æœ€ä½³æ—¶é—´ï¼Œå¯ä»¥çœ‹é“å¡”æ•´ç‚¹é—ªç¯ã€‚<br>æ¨èèˆ¹å…¬å¸ï¼š**Bateaux Mouches** æˆ– **Bateaux Parisiens**ã€‚',
                        tips: 'èˆ¹ä¸Šæœ‰æš–æ°”ï¼Œä¸ç”¨æ‹…å¿ƒå†·ã€‚'
                    },
                    { 
                        time: '20:30', title: 'æ™šé¤: ç‰›æ’è–¯æ¡', icon: 'ğŸ¥©',
                        details: 'é¤å…ï¼š**Le Relais de l\'EntrecÃ´te**ã€‚æ³•å¼é£Ÿå ‚ä½“éªŒï¼Œåªå–è¿™ä¸€é“èœï¼Œæ— é™ç»­è–¯æ¡ã€‚',
                        tips: 'ä¸å¯é¢„çº¦ï¼Œéœ€æ’é˜Ÿã€‚'
                    }
                ],
                'd5': [
                    { 
                        time: '09:30', title: 'å¢æµ®å®«', icon: 'ğŸ–¼ï¸', badge: 'æ— å­¦ç”Ÿç¥¨',
                        details: 'å‘¨æ—¥æ­£å¸¸å¼€æ”¾ã€‚ğŸ“ä»…æ¬§ç›Ÿ<26å²å…ç¥¨ï¼Œéæ¬§ç›Ÿæ— ä¼˜æƒ ã€‚<br>ğŸ’¡ **ç§˜ç±**ï¼šèµ° **Carrousel du Louvre** (åœ°ä¸‹å•†åœº) å…¥å£ï¼Œé¿å¼€é‡‘å­—å¡”æ’é˜Ÿå¤§å†›ã€‚',
                    },
                    { 
                        time: '12:30', title: 'åˆé¤: å¿…åƒèœ—ç‰›', icon: 'ğŸŒ', badge: 'æ¨è',
                        details: 'é¤å…ï¼š**L\'Escargot Montorgueil** (38 Rue Montorgueil)ã€‚<br>ç™¾å¹´é‡‘å­—æ‹›ç‰Œã€‚æ¨èç‚¹æ··åˆå£å‘³æ‹¼ç›˜ï¼ˆä¼ ç»Ÿè’œè“‰ã€é¹…è‚ã€æ¾éœ²å‘³ï¼‰ã€‚å¦‚æœä¸æƒ³èµ°è¿œï¼Œæ—¥éŸ©åŒºçš„ Sanukiya (ä¹Œå†¬é¢) ä¾ç„¶æ˜¯å¤‡é€‰.',
                    },
                    { 
                        time: '15:00', title: 'è’™é©¬ç‰¹é«˜åœ°Montmartre', icon: 'ğŸ¨',
                        details: 'é¿å¼€åœ£å¿ƒå ‚é—¨å£çš„äººç¾¤ã€‚å¸¦åŒä¼´å» **Villa LÃ©andre** (è‹±ä¼¦é£å°å¾„) å’Œ **Rue de l\'Abreuvoir** (ç²‰çº¢é¤å…) æ‹ç…§ã€‚',
                    },
                    { 
                        time: '19:00', title: 'æ™šé¤: Pink Mamma', icon: 'ğŸ', badge: 'éš¾è®¢',
                        details: 'ç½‘çº¢æ„å¤§åˆ©é¤å…ï¼Œå¿…ç‚¹æ¾éœ²æ„é¢ã€‚å¦‚æœæ²¡è®¢åˆ°ï¼Œå¯ä»¥æå‰å»ç°åœºæ’é˜Ÿï¼Œæˆ–è€…å»é™„è¿‘çš„ Biglove (åŒé›†å›¢)ã€‚',
                    }
                ],
                'd6': [
                    { 
                        time: '10:00', title: 'å·¦å²¸è´­ç‰©ï¼šLe Bon MarchÃ©', icon: 'ğŸ›ï¸',
                        details: 'é¡¶çº§ç™¾è´§ & é£Ÿå“é¦†ã€‚æ¯”è€ä½›çˆ·äººå°‘ä½“éªŒå¥½ã€‚å¿…é€› La Grande Ã‰picerie ä¹°ä¼´æ‰‹ç¤¼(é»„æ²¹/ç›ä¹‹èŠ±)ã€‚', badge: '' },
                    { 
                        time: '13:00', title: 'åˆé¤: L\'As du Fallafel', icon: 'ğŸ¥™',
                        details: 'åœ¨ç›é»‘åŒºã€‚å‘¨ä¸€è¥ä¸šï¼å·´é»æœ€å¥½åƒçš„æ³•æ‹‰è´¹å£è¢‹é¥¼ï¼Œæ’é˜Ÿå¾ˆå¿«ã€‚',
                    },
                    { 
                        time: '16:00', title: 'Citypharma è¡¥è´§', icon: 'ğŸ’Š',
                        details: 'å‘¨ä¸€æ­£å¸¸è¥ä¸šã€‚å…¨å·´é»æœ€ä¾¿å®œè¯å¦†åº—ã€‚ä¹°å®Œå›é…’åº—æ‹¿è¡Œæã€‚',
                    },
                    { 
                        time: '17:30', title: 'å‰å¾€æœºåœº (CDG)', icon: 'ğŸ›«',
                        details: 'é¢„ç•™å……è¶³æ—¶é—´å RER B çº¿æˆ–æ‰“è½¦å‰å¾€æˆ´é«˜ä¹æœºåœºã€‚',
                    }
                ]
            }
        };

        const reservations = [
            { title: 'æŸæ—-å¾·ç´¯æ–¯é¡¿ ç«è½¦', date: '1.8', icon: 'ğŸš„' },
            { title: 'ç»¿ç©¹çå®é¦† (å†å²é¦†)', date: '1.8', icon: 'ğŸ’', sub: 'åŠ¡å¿…æå‰é¢„çº¦' },
            { title: 'æŸæ—-å·´é» æœºç¥¨', date: '1.9', icon: 'âœˆï¸', sub: '20:20 èµ·é£' },
            { title: 'åŸƒè²å°”é“å¡”ç™»é¡¶', date: '1.10', icon: 'ğŸ—¼', sub: 'å¦‚éœ€ç™»é¡¶è¯·ä¹°ç¥¨' },
            { title: 'å¢æµ®å®«é—¨ç¥¨', date: '1.11', icon: 'ğŸ–¼ï¸', sub: '09:30 å…¥åœº' },
            { title: 'Pink Mamma æ™šé¤', date: '1.11', icon: 'ğŸ', sub: 'æå‰ä¸¤å‘¨æŠ¢å·' }
        ];

        const exploreItems = [
            { type: 'food', name: 'L\'Escargot Montorgueil', city: 'å·´é»', desc: 'ç™¾å¹´èœ—ç‰›é‡‘å­—æ‹›ç‰Œ', tags: ['èœ—ç‰›'] },
            { type: 'food', name: 'Napoli Gang', city: 'å·´é»', desc: 'Pink MammaåŒæ¬¾å¤–å–', tags: ['UberEats'] },
            { type: 'food', name: 'Camondas', city: 'å¾·ç´¯æ–¯é¡¿', desc: 'ç‹å®«é—¨å£å·§å…‹åŠ›å†°æ£', tags: ['ç”œç‚¹'] },
            { type: 'photo', name: 'James Simon Gallery', city: 'æŸæ—', desc: 'æç®€æŸ±å»Šå…‰å½±å¤§ç‰‡', tags: ['å‡ºç‰‡'] },
            { type: 'photo', name: 'OberbaumbrÃ¼cke', city: 'æŸæ—', desc: 'çº¢ç –æ¡¥+é»„è‰²åœ°é“', tags: ['ç»å…¸'] },
            { type: 'photo', name: 'Avenue de CamoÃ«ns', city: 'å·´é»', desc: 'é“å¡”éšç§˜æœºä½', tags: ['å°ä¼—'] }
        ];

        // --- æ ¸å¿ƒé€»è¾‘ ---
        let currentView = 'overview';
        let currentDay = 'd1';

        function renderView(viewName) {
            currentView = viewName;
            
            // æ›´æ–°åº•éƒ¨å¯¼èˆªçŠ¶æ€
            document.querySelectorAll('.nav-item').forEach(el => {
                el.classList.remove('active');
                if (el.id === `nav-${viewName}`) el.classList.add('active');
            });

            const container = document.getElementById('main-container');
            container.innerHTML = ''; // æ¸…ç©º

            if (viewName === 'overview') {
                renderOverview(container);
            } else if (viewName === 'itinerary') {
                renderItinerary(container);
            } else if (viewName === 'reservations') {
                renderReservations(container);
            } else if (viewName === 'tips') {
                renderTips(container);
            }
            window.scrollTo(0, 0);
        }

        // --- æ¸²æŸ“ï¼šæ¦‚è§ˆ (é¦–é¡µ) ---
        function renderOverview(container) {
            // 1. ç´§æ€¥æç¤ºå¡ç‰‡
            const alertCard = document.createElement('div');
            alertCard.className = 'card p-4 border-l-4 border-amber-400 bg-amber-50';
            alertCard.innerHTML = `
                <h3 class="font-bold text-amber-800 mb-3 flex items-center">âš ï¸ è¡Œå‰é«˜äº®</h3>
                <ul class="text-sm text-amber-900 space-y-2 list-disc list-inside">
                    <li><b>ä¿æš–é¢„è­¦ï¼š</b>å¸½å­ã€å›´å·¾ã€æ‰‹å¥—æ˜¯æˆ·å¤–è¡Œèµ°å¿…å¤‡ã€‚</li>
                    <li><b>å‘¨æ—¥é—­åº—ï¼š</b>1æœˆ11æ—¥å·´é»å¤šæ•°å•†åº—é—­é—¨ï¼Œåªæœ‰ç›é»‘åŒºè¥ä¸šã€‚</li>
                    <li><b>å­¦ç”Ÿç¦åˆ©ï¼š</b>åŠ¡å¿…æºå¸¦ <b>å­¦ç”Ÿè¯(ISIC) + æŠ¤ç…§</b>ã€‚å¾·å›½é¦†å¤šæœ‰ä¼˜æƒ ï¼Œå·´é»æ¬§ç›Ÿç”Ÿå…¨å…ã€‚</li>
                    <li><b>æœºåœºäº¤é€šï¼š</b>å¥¥åˆ©æœºåœºå»å·¦å²¸ä¸€å£ä»· â‚¬36ï¼Œè®¤å‡†æ­£è§„å‡ºç§Ÿã€‚</li>
                </ul>
            `;
            container.appendChild(alertCard);

            // 2. è¡Œç¨‹èŠ‚å¥å›¾è¡¨
            const chartCard = document.createElement('div');
            chartCard.className = 'card p-4';
            chartCard.innerHTML = `
                <h3 class="text-sm font-bold text-slate-500 mb-3">è¡Œç¨‹èŠ‚å¥åˆ†å¸ƒ</h3>
                <div class="chart-container"><canvas id="activityChart"></canvas></div>
                <p class="text-xs text-center text-slate-400 mt-2">è§‚å…‰ä¸ç¾é£Ÿå¹¶é‡ï¼ŒèŠ‚å¥é€‚ä¸­</p>
            `;
            container.appendChild(chartCard);

            // 3. ç™½æ˜¼å›¾è¡¨
            const dayCard = document.createElement('div');
            dayCard.className = 'card p-4';
            dayCard.innerHTML = `
                <h3 class="text-sm font-bold text-slate-500 mb-3">1æœˆç™½æ˜¼è­¦ç¤º</h3>
                <div class="chart-container"><canvas id="daylightChart"></canvas></div>
                <p class="text-xs text-center text-slate-400 mt-2">16:30å³æ—¥è½ï¼Œæˆ·å¤–æ‹ç…§è¯·èµ¶æ—©ï¼</p>
            `;
            container.appendChild(dayCard);

            // 4. å¿…å¤‡æ¸…å•
            const packingCard = document.createElement('div');
            packingCard.className = 'card p-5';
            packingCard.innerHTML = `
                <h3 class="font-bold text-slate-800 mb-4">ğŸ§³ å¿…å¤‡æ¸…å•</h3>
                <div class="grid grid-cols-1 gap-3" id="packing-list-container"></div>
            `;
            container.appendChild(packingCard);

            // å¡«å……æ¸…å•
            const listContainer = packingCard.querySelector('#packing-list-container');
            packingItems.forEach(item => {
                const label = document.createElement('label');
                label.className = 'flex items-center gap-3 select-none cursor-pointer';
                label.innerHTML = `
                    <input type="checkbox" class="w-5 h-5 rounded border-slate-300 text-blue-600 focus:ring-blue-500">
                    <span class="text-sm text-slate-700">${item}</span>
                `;
                listContainer.appendChild(label);
            });

            // åˆå§‹åŒ–å›¾è¡¨
            initCharts();
        }

        function renderItinerary(container) {
            // æ¸²æŸ“é¡¶éƒ¨å¤©æ•°æ 
            const tabsContainer = document.createElement('div');
            tabsContainer.className = 'day-tabs hide-scroll';
            
            tripData.days.forEach(day => {
                const btn = document.createElement('button');
                btn.className = `day-tab ${day.id === currentDay ? 'active' : ''}`;
                btn.textContent = day.label;
                btn.onclick = () => { currentDay = day.id; renderItinerary(container); };
                tabsContainer.appendChild(btn);
            });
            container.appendChild(tabsContainer);

            // æ¸²æŸ“å½“å¤©æ ‡é¢˜
            const dayInfo = tripData.days.find(d => d.id === currentDay);
            const header = document.createElement('div');
            header.className = 'px-4 py-4';
            header.innerHTML = `<h2 class="text-xl font-bold text-slate-800">${dayInfo.title}</h2><p class="text-xs text-slate-500">ç‚¹å‡»å¡ç‰‡æŸ¥çœ‹è¯¦ç»†æ”»ç•¥ ğŸ‘‡</p>`;
            container.appendChild(header);

            // æ¸²æŸ“åˆ—è¡¨
            const list = document.createElement('div');
            list.className = 'px-4 pb-20';
            
            tripData.itinerary[currentDay].forEach(item => {
                const card = document.createElement('div');
                card.className = 'card group';
                card.onclick = function() { this.classList.toggle('expanded'); };
                
                let badges = '';
                if (item.badge) {
                    let colorClass = item.badge.includes('å­¦ç”Ÿ') ? 'badge-student' : 'badge-urgent';
                    badges = `<span class="badge ${colorClass}">${item.badge}</span>`;
                }

                card.innerHTML = `
                    <div class="card-header">
                        <div class="flex items-center gap-3">
                            <span class="timeline-time">${item.time}</span>
                            <div class="flex flex-col">
                                <span class="font-bold text-slate-800 text-base flex items-center">
                                    <span class="mr-2 text-lg">${item.icon}</span> ${item.title}
                                </span>
                            </div>
                        </div>
                        <div class="flex items-center">
                            ${badges}
                            <span class="arrow ml-3 text-slate-400 text-xs transition-transform duration-300">â–¼</span>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="detail-block">
                            <span class="detail-label">ğŸ‘€ è¯¦ç»†å®‰æ’</span>
                            <div class="detail-text">${item.details}</div>
                        </div>
                        ${item.tips ? `
                        <div class="detail-block mt-3 pt-3 border-t border-dashed border-slate-200">
                            <span class="detail-label text-amber-600">ğŸ’¡ é¿å‘/è´´å£«</span>
                            <div class="detail-text text-amber-900 bg-amber-50 p-2 rounded">${item.tips}</div>
                        </div>` : ''}
                    </div>
                `;
                list.appendChild(card);
            });
            container.appendChild(list);
        }

        function renderReservations(container) {
            const list = [
                { title: 'æŸæ—-å¾·ç´¯æ–¯é¡¿ ç«è½¦', date: '1.8', icon: 'ğŸš„' },
                { title: 'ç»¿ç©¹çå®é¦† (å†å²é¦†)', date: '1.8', icon: 'ğŸ’', sub: 'åŠ¡å¿…æå‰é¢„çº¦æ—¶æ®µ' },
                { title: 'æŸæ—-å·´é» æœºç¥¨', date: '1.9', icon: 'âœˆï¸', sub: '20:20 èµ·é£' },
                { title: 'åŸƒè²å°”é“å¡”ç™»é¡¶', date: '1.10', icon: 'ğŸ—¼', sub: 'å¦‚éœ€ç™»é¡¶è¯·ä¹°ç¥¨' },
                { title: 'å¢æµ®å®«é—¨ç¥¨', date: '1.11', icon: 'ğŸ–¼ï¸', sub: 'å¿…çº¦ï¼æ— å­¦ç”Ÿä¼˜æƒ ' },
                { title: 'Pink Mamma æ™šé¤', date: '1.11', icon: 'ğŸ', sub: 'æå‰ä¸¤å‘¨æŠ¢å·' }
            ];

            const wrapper = document.createElement('div');
            wrapper.className = 'p-4 space-y-3';
            
            list.forEach(item => {
                wrapper.innerHTML += `
                    <label class="card p-4 flex items-start gap-3 cursor-pointer select-none">
                        <input type="checkbox" class="w-5 h-5 mt-1 rounded border-slate-300 text-blue-600 focus:ring-blue-500">
                        <div>
                            <div class="font-bold text-slate-800">${item.icon} ${item.title}</div>
                            <div class="text-xs text-slate-500 font-bold mt-1">${item.date} ${item.sub ? ` â€¢ ${item.sub}` : ''}</div>
                        </div>
                    </label>
                `;
            });
            container.appendChild(wrapper);
        }

        function renderTips(container) {
            const tips = [
                { t: 'å­¦ç”Ÿè¯ç¦åˆ©', c: 'éšèº«å¸¦ ISIC + æŠ¤ç…§ã€‚å¾·å›½é¦†å¤šä¼˜æƒ ï¼›å·´é»æ¬§ç›Ÿç”Ÿå…¨å…ï¼Œéæ¬§ç›Ÿç”Ÿçœ‹è¿æ°”ï¼ˆå‡¯æ—‹é—¨/é“å¡”å¯èƒ½æœ‰é’å¹´ç¥¨ï¼‰ã€‚' },
                { t: 'å¥¥åˆ©æœºåœºæ‰“è½¦', c: 'å»å·¦å²¸(15åŒº)æ˜¯ä¸€å£ä»· â‚¬36ã€‚è®¤å‡†å®˜æ–¹å‡ºç§Ÿè½¦é˜Ÿ Taxi Parisienï¼Œä¸è¦ç†æ‹‰å®¢çš„ã€‚' },
                { t: 'é€€ç¨æé†’', c: 'åœ¨å¾·å›½ä¹°çš„åœ¨æœ€åç¦»å¢ƒå›½(æ³•å›½)é€€ã€‚å¦‚æœåç«è½¦å»å·´é»ï¼Œé€šå¸¸ä¸é€€ã€‚å»ºè®®æœ€ååœ¨ CDG æœºåœºç»Ÿä¸€åŠç†ã€‚' },
                { t: 'å‘¨æ—¥é—­åº—', c: '1æœˆ11æ—¥å‘¨æ—¥ï¼Œå·´é»å¤§å•†åœºå¼€ï¼Œä½†è¯å¦†åº—/å°åº—å…³é—¨ã€‚ç›é»‘åŒºæ˜¯å‘¨æ—¥é€›è¡—é¦–é€‰ã€‚' },
                { t: 'å·´é»å®‰å…¨', c: 'åœ¨é“å¡”ä¸‹ã€åœ°é“é‡Œçœ‹å¥½åŒ…ã€‚ä¸è¦ç†ä¼šç»™ä½ ç³»çº¢ç»³ã€è®©ä½ ç­¾åçš„é™Œç”Ÿäººã€‚' }
            ];
            
            const wrapper = document.createElement('div');
            wrapper.className = 'p-4 space-y-4';
            
            tips.forEach(item => {
                wrapper.innerHTML += `
                    <div class="card p-5 border-l-4 border-blue-500">
                        <h3 class="font-bold text-slate-800 mb-2">${item.t}</h3>
                        <p class="text-sm text-slate-600 leading-relaxed">${item.c}</p>
                    </div>
                `;
            });
            container.appendChild(wrapper);
        }

        function initCharts() {
            setTimeout(() => {
                const actCtx = document.getElementById('activityChart');
                const dayCtx = document.getElementById('daylightChart');
                
                if(actCtx) {
                    new Chart(actCtx, {
                        type: 'doughnut',
                        data: { labels: ['è§‚å…‰','ç¾é£Ÿ','äº¤é€š','è´­ç‰©'], datasets: [{ data: [45,25,20,10], backgroundColor: ['#6366f1','#f97316','#94a3b8','#ec4899'], borderWidth:0 }] },
                        options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'right', labels: { boxWidth: 10 } } } }
                    });
                }
                if(dayCtx) {
                    new Chart(dayCtx, {
                        type: 'bar',
                        data: { labels: ['8','10','12','14','16','18','20'], datasets: [{ label: 'äº®åº¦', data: [20,100,100,100,40,0,0], backgroundColor: c => c.raw>50?'#f59e0b':'#1e293b', borderRadius:4 }] },
                        options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, scales: { y: { display: false }, x: { grid: { display: false } } } }
                    });
                }
            }, 100);
        }

        // åˆå§‹åŒ–æ˜¾ç¤ºæ¦‚è§ˆé¡µ
        renderView('overview');

    </script>
</body>
</html>